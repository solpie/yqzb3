<!DOCTYPE html>
<html>
<head>
    <meta charset="UTF-8">
    <title>YuanQiTV2</title>
    <style>
        body {
            margin: 0;
            -webkit-app-region: drag;
        }
    </style>
</head>
<body>
<img src="file:///app/static/img/index.gif" style=" -webkit-app-region: no-drag;position: fixed;z-index: 1">
<div style="position: fixed;left: 0;top: 0;z-index: 2;color: #0acbfc;">
    YuanQiTV2
    <!-- All of the Node.js APIs are available in this renderer process. -->
    We are using node
    <script>document.write(process.versions.node)</script>
    ,
    <br>
    Chromium
    <script>document.write(process.versions.chrome)</script>
    ,
    <br>
    Electron
    <script>document.write(process.versions.electron)</script>
    .
    <input type="button" value="player" onclick="onClkPlayer()">
</div>

</body>
<script>
    const {shell} = require('electron');
    function onClkPlayer() {
        shell.showItemInFolder('.');
//        shell.showItemInFolder('./resources/db');
    }

    const {remote} = require('electron');
    const {Menu, MenuItem} = remote;


    const {ipcRenderer} = require('electron');

    const menu = new Menu();
    menu.append(new MenuItem({
        label: 'MenuItem1', click() {
            console.log('item 1 clicked');
        }
    }));
    menu.append(new MenuItem({type: 'separator'}));
    menu.append(new MenuItem({label: 'MenuItem2', type: 'checkbox', checked: true}));

    window.addEventListener('contextmenu', function (e) {
        e.preventDefault();
        menu.popup(remote.getCurrentWindow());
    }, false);
    window.addEventListener('keyup', function (e) {
        console.log(window, "keyup", e.keyCode);
        var keyCode = e.keyCode;
        if (keyCode === 123) {//F12
            ipcRenderer.send('open-devtool', keyCode);
        }
        else if (keyCode === 192) {
            shell.openExternal('http://127.0.0.1');
        }
    }, false);

    // You can also require other files to run in this process
    var config = require('./config.json');
//    require('./Server.js');
    var webServer = require('./Server.js');
    console.log(webServer);
    console.log(config);
    console.log('%c Oh my heavens! ', 'background: #222; color: #bada55');
</script>
</html>